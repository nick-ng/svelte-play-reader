import{g as w,p as F,L as N,P as Y,s as M,a as s,b as U,u as A,B as x,R as y,c as L,d as G,l as $,e as j,f as z,S as H,h as V,i as T,j as Z,k as B,m as J,n as K,o as Q}from"./B4Ye32uY.js";import{c as W,p as X}from"./C6efE479.js";function C(r){for(var a=B,n=B;a!==null&&!(a.f&(x|y));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ae(r,a,n,v){var h;var I=(n&G)!==0,d=!$||(n&j)!==0,S=(n&z)!==0,D=(n&J)!==0,O=!1,u;S?[u,O]=W(()=>r[a]):u=r[a];var p=H in r||V in r,_=S&&(((h=w(r,a))==null?void 0:h.set)??(p&&a in r&&(e=>r[a]=e)))||void 0,t=v,o=!0,E=!1,b=()=>(E=!0,o&&(o=!1,D?t=A(v):t=v),t);u===void 0&&v!==void 0&&(_&&d&&F(),u=b(),_&&_(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?b():(o=!0,E=!1,e)};else{var g=C(()=>(I?T:Z)(()=>r[a]));g.f|=N,i=()=>{var e=s(g);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(n&Y))return i;if(_){var q=r.$$legacy;return function(e,f){return arguments.length>0?((!d||!f||q||O)&&_(f?i():e),e):i()}}var c=!1,m=!1,P=K(u),l=C(()=>T(()=>{var e=i(),f=s(P);return c?(c=!1,m=!0,f):(m=!1,P.v=e)}));return I||(l.equals=M),function(e,f){if(Q!==null&&(c=m,i(),s(P)),arguments.length>0){const R=f?s(l):d&&S?X(e):e;return l.equals(R)||(c=!0,U(P,R),E&&t!==void 0&&(t=R),A(()=>s(l))),e}return s(l)}}export{ae as p};
