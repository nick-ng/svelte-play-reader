import{a0 as ie,q as te,r as T,w as M,t as ue,a as J,H as ce,v as K,x as R,C as S,a1 as N,y as p,z as ee,A as de,a2 as ae,k as Q,a3 as W,a4 as _e,a5 as oe,a6 as he,a7 as me,a8 as Ee,j as ke,a9 as Ae,aa as be,ab as q,ac as Y,ad as z,n as Te,ae as Z,af as re,ag as ge,ah as we,ai as Ie,aj as xe,ak as Ce,u as Se,al as le,am as He}from"./B4Ye32uY.js";import{l as fe}from"./BdW3lM8a.js";import{i as Ne}from"./C6efE479.js";function Ve(e,a){return a}function ye(e,a,r,i){for(var f=[],s=a.length,l=0;l<s;l++)_e(a[l].e,f,!0);var h=s>0&&f.length===0&&r!==null;if(h){var o=r.parentNode;oe(o),o.append(r),i.clear(),w(e,a[0].prev,a[s-1].next)}he(f,()=>{for(var t=0;t<s;t++){var c=a[t];h||(i.delete(c.k),w(e,c.prev,c.next)),me(c.e,!h)}})}function qe(e,a,r,i,f,s=null){var l=e,h={flags:a,items:new Map,first:null},o=(a&re)!==0;if(o){var t=e;l=T?M(Ee(t)):t.appendChild(ie())}T&&ue();var c=null,A=!1,I=ke(()=>{var n=r();return ge(n)?n:n==null?[]:ae(n)});te(()=>{var n=J(I),u=n.length;if(A&&u===0)return;A=u===0;let _=!1;if(T){var x=l.data===ce;x!==(u===0)&&(l=K(),M(l),R(!1),_=!0)}if(T){for(var m=null,E,k=0;k<u;k++){if(S.nodeType===8&&S.data===Ae){l=S,_=!0,R(!1);break}var b=n[k],v=i(b,k);E=ne(S,h,m,null,b,v,k,f,a),h.items.set(v,E),m=E}u>0&&M(K())}if(!T){var d=be;De(n,h,l,f,a,(d.f&N)!==0,i)}s!==null&&(u===0?c?p(c):c=ee(()=>s(l)):c!==null&&de(c,()=>{c=null})),_&&R(!0),J(I)}),T&&(l=S)}function De(e,a,r,i,f,s,l,h){var P,U,X,F;var o=(f&we)!==0,t=(f&(Y|z))!==0,c=e.length,A=a.items,I=a.first,n=I,u,_=null,x,m=[],E=[],k,b,v,d;if(o)for(d=0;d<c;d+=1)k=e[d],b=l(k,d),v=A.get(b),v!==void 0&&((P=v.a)==null||P.measure(),(x??(x=new Set)).add(v));for(d=0;d<c;d+=1){if(k=e[d],b=l(k,d),v=A.get(b),v===void 0){var se=n?n.e.nodes_start:r;_=ne(se,a,_,_===null?a.first:_.next,k,b,d,i,f),A.set(b,_),m=[],E=[],n=_.next;continue}if(t&&Me(v,k,d,f),v.e.f&N&&(p(v.e),o&&((U=v.a)==null||U.unfix(),(x??(x=new Set)).delete(v))),v!==n){if(u!==void 0&&u.has(v)){if(m.length<E.length){var H=E[0],g;_=H.prev;var B=m[0],y=m[m.length-1];for(g=0;g<m.length;g+=1)$(m[g],H,r);for(g=0;g<E.length;g+=1)u.delete(E[g]);w(a,B.prev,y.next),w(a,_,B),w(a,y,H),n=H,_=y,d-=1,m=[],E=[]}else u.delete(v),$(v,n,r),w(a,v.prev,v.next),w(a,v,_===null?a.first:_.next),w(a,_,v),_=v;continue}for(m=[],E=[];n!==null&&n.k!==b;)(s||!(n.e.f&N))&&(u??(u=new Set)).add(n),E.push(n),n=n.next;if(n===null)continue;v=n}m.push(v),_=v,n=v.next}if(n!==null||u!==void 0){for(var C=u===void 0?[]:ae(u);n!==null;)(s||!(n.e.f&N))&&C.push(n),n=n.next;var D=C.length;if(D>0){var ve=f&re&&c===0?r:null;if(o){for(d=0;d<D;d+=1)(X=C[d].a)==null||X.measure();for(d=0;d<D;d+=1)(F=C[d].a)==null||F.fix()}ye(a,C,ve,A)}}o&&q(()=>{var G;if(x!==void 0)for(v of x)(G=v.a)==null||G.apply()}),Q.first=a.first&&a.first.e,Q.last=_&&_.e}function Me(e,a,r,i){i&Y&&W(e.v,a),i&z?W(e.i,r):e.i=r}function ne(e,a,r,i,f,s,l,h,o,t){var c=(o&Y)!==0,A=(o&Ie)===0,I=c?A?Te(f):Z(f):f,n=o&z?Z(l):l,u={i:n,v:I,k:s,a:null,e:null,prev:r,next:i};try{return u.e=ee(()=>h(e,I,n),T),u.e.prev=r&&r.e,u.e.next=i&&i.e,r===null?a.first=u:(r.next=u,r.e.next=u.e),i!==null&&(i.prev=u,i.e.prev=u.e),u}finally{}}function $(e,a,r){for(var i=e.next?e.next.e.nodes_start:r,f=a?a.e.nodes_start:r,s=e.e.nodes_start;s!==i;){var l=xe(s);f.before(s),s=l}}function w(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Ye(e,a,r=a){var i=Ce();fe(e,"input",f=>{var s=f?e.defaultValue:e.value;if(s=L(e)?V(s):s,r(s),i&&s!==(s=a())){var l=e.selectionStart,h=e.selectionEnd;e.value=s??"",h!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(h,e.value.length))}}),(T&&e.defaultValue!==e.value||Se(a)==null&&e.value)&&r(L(e)?V(e.value):e.value),le(()=>{var f=a();L(e)&&f===V(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const O=new Set;function ze(e,a,r,i,f=i){var s=r.getAttribute("type")==="checkbox",l=e;let h=!1;if(a!==null)for(var o of a)l=l[o]??(l[o]=[]);l.push(r),fe(r,"change",()=>{var t=r.__value;s&&(t=j(l,t,r.checked)),f(t)},()=>f(s?[]:null)),le(()=>{var t=i();if(T&&r.defaultChecked!==r.checked){h=!0;return}s?(t=t||[],r.checked=t.includes(r.__value)):r.checked=Ne(r.__value,t)}),He(()=>{var t=l.indexOf(r);t!==-1&&l.splice(t,1)}),O.has(l)||(O.add(l),q(()=>{l.sort((t,c)=>t.compareDocumentPosition(c)===4?-1:1),O.delete(l)})),q(()=>{if(h){var t;if(s)t=j(l,t,r.checked);else{var c=l.find(A=>A.checked);t=c==null?void 0:c.__value}f(t)}})}function j(e,a,r){for(var i=new Set,f=0;f<e.length;f+=1)e[f].checked&&i.add(e[f].__value);return r||i.delete(a),Array.from(i)}function L(e){var a=e.type;return a==="number"||a==="range"}function V(e){return e===""?null:+e}export{ze as a,Ye as b,qe as e,Ve as i};
